<style>
body {
  position: relative;
  background:#ddd;
  background: url('/openstorefront/images/squared_metal.png');
}

.help-text{
  color: grey;
  font-weight: normal;
  font-style: italic;
  padding-left: 5px;
}

</style>
<!--[if gte IE 9]>
  <style type="text/css">
    .gradient {
       filter: none;
    }
  </style>
  <![endif]-->

  <!-- Until we figure it out, IE9 is having issues uploading files. A warning message has been put in -->
  <div class=" top color_primary_background navbar navbar-default navigation" style="  border-bottom: 3px solid #FF811A;"> 
   <div class="container-fluid">
    <div ng-cloak>
      <!-- fa fa-home -->
      <a class="navbar-brand" href="index.html" >
        <div style="height: 50px; width: 180px; text-align:center; display:inline-block;">
          <div style="width: 250px; text-align: left; border-radius: 0px 8px 8px 0px; background: -moz-linear-gradient(left, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 81%, rgba(255,255,255,0) 100%); background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(255,255,255,1)), color-stop(81%,rgba(255,255,255,1)), color-stop(100%,rgba(255,255,255,0))); background: -webkit-linear-gradient(left, rgba(255,255,255,1) 0%,rgba(255,255,255,1) 81%,rgba(255,255,255,0) 100%); background: -o-linear-gradient(left, rgba(255,255,255,1) 0%,rgba(255,255,255,1) 81%,rgba(255,255,255,0) 100%); background: -ms-linear-gradient(left, rgba(255,255,255,1) 0%,rgba(255,255,255,1) 81%,rgba(255,255,255,0) 100%); background: linear-gradient(to right, rgba(255,255,255,1) 0%,rgba(255,255,255,1) 81%,rgba(255,255,255,0) 100%); filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#00ffffff',GradientType=1 );" data-toggle="tooltip" data-placement="bottom" data-title="Go Back To Home Page" data-trigger="hover">
            <img ng-cloak src="images/logo/logo-only-words.svg" alt="" style="height: 49px; margin: 3px 15px 0px 15px">
          </div>
        </div>             
      </a>
    </div> 
  </div>  
  <div class="collapse navbar-collapse center navSearch" id="bs-example-navbar-collapse-1" style="text-align: center;">
    <span style="text-align: center; width: 100%; font-size: 35px; color: white;">
     Clearinghouse Submission Form
   </span>
 </div>
</div>
</div>  
<div masked="submissionLoader" class="container bs-docs-container">
  <!-- <loader trigger="submissionLoader"></loader> -->
  <div  ng-controller="SubmissionCtrl" >
    <div style="width: inherit;">
      <!--     <div class="row banner">
        <img src="images/logo/logo-words.svg" alt="" style="padding: 7px; width: auto; height:inherit;">
      </div> -->
    </div>

    <div class="row" style="position:relative;">
      <div class="col-md-2 hidden-sm hidden-xs faded-border" style="position:relative;">
        <div style="position:relative;">
          <div class="bs-sidebar hidden-print affix" role="complementary" data-offset-top="-100" bs-affix  id="scrollSpy">
            <ul class="nav bs-sidenav">
              <li ng-show="!(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" data-target="#top" class="active" ng-class="getStarted()? 'complete':''">
                <a target="_self" href="#top" ng-click="scrollTo('top', 'top');">Getting started</a>
              </li>
              <hr ng-show="!(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" style="margin: 2px 0;">
              <li ng-show="!(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" data-target="#vitals" ng-class="{'complete': vitalsCheck(), 'disabled': !getStarted()}">
                <a target="_self" href="#vitals" ng-click="getStarted()? scrollTo('vitals', 'vitals', '', $event, 'componentName'):'';">Required Information</a>
              </li>
              <!-- <hr ng-show="!(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" style="margin: 2px 0;"> -->
              <li ng-show="!(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" data-target="#details" ng-class="{'disabled': !vitalsCheck(), 'complete': vitalsCheck() && (detailsForm.$dirty || detailsDone)}">
                <a target="_self" href="#details" ng-click="initialSave($event)">Details</a>
                <ul class="nav">
                  <li data-target="#metadata" ng-class="{'disabled': !vitalsCheck()}">
                    <a target="_self" href="#metadata" ng-click="vitalsCheck()? scrollTo('metadata', 'vitals', 'details', $event, 'tagLabel'): ''">Main Details</a>
                  </li>
                  <li data-target="#contacts" ng-class="{'disabled': !vitalsCheck()}">
                    <a target="_self" href="#contacts" ng-click="vitalsCheck()? scrollTo('contacts', 'vitals', 'details', $event, 'contactType'): ''">Contacts</a>
                  </li>
                  <li data-target="#dependencies" ng-class="{'disabled': !vitalsCheck()}">
                    <a target="_self" href="#dependencies" ng-click="vitalsCheck()? scrollTo('dependencies', 'vitals', 'details', $event, 'dependencyFormName'): ''">Dependencies</a>
                  </li>
                  <li data-target="#resources" ng-class="{'disabled': !vitalsCheck()}">
                    <a target="_self" href="#resources" ng-click="vitalsCheck()? scrollTo('resources', 'vitals', 'details', $event, 'resourceFormType'): ''">External Liks</a>
                  </li>
                  <li data-target="#media" ng-class="{'disabled': !vitalsCheck()}">
                    <a target="_self" href="#media" ng-click="vitalsCheck()? scrollTo('media', 'vitals', 'details', $event, 'mediaFormType'): ''">Media</a>
                  </li>
                </ul>
              </li>
            <!-- <li data-target="#moreDetails" ng-class="{'disabled': !vitalsCheck()}">
              <a target="_self" href="#moreDetails" ng-click="vitalsCheck()? scrollTo('moreDetails', 'details', '', $event): ''">Extra Details</a>
            </li> -->
            <hr ng-show="!(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" style="margin: 2px 0;">
            <li data-target="#reviewAndSubmit" ng-class="{'disabled': !vitalsCheck(), 'complete': component.component.approvalState && component.component.approvalState !== 'N'}">
              <a target="_self" href="#reviewAndSubmit" ng-click="updateSave($event)">
                <span ng-show="!(component.component.approvalState && component.component.approvalState !== 'N')">Review/Submit</span>
                <span ng-show="(component.component.approvalState && component.component.approvalState !== 'N')">Component Preview</span>
              </a>
            </li>
            <hr ng-show="(component.component.approvalState && component.component.approvalState !== 'N')"  style="margin:2px 0;">
            <li data-target="#" ng-show="(component.component.approvalState && component.component.approvalState !== 'N')"  class="edit">
              <a target="_self" href="#" ng-show="(component.component.approvalState && component.component.approvalState !== 'N')" ng-click="setEditable($event)">Edit Component</a>
            </li>
          </ul>
        </div>
      </div>
    </div>


    <div class="col-md-10 formArea">

      <!-- GETTING STARTED SECTION -->
      <div ng-show="current === 'top'">
        <div class="row">
          <div class="col-md-12 hidden-sm hidden-xs">
            <div id="top" style="padding:0px 0px 25px 0px;">

              <!--[if lt IE 10]>
              <div class="input-group">
                <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
                <span class="form-control">There is a known issue with uploading files on IE9 in this submission form. If this will be an issue for your submission, please switch to <strong><a href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a></strong> or <strong><a href="https://www.google.com/intl/en-US/chrome/browser/">Chrome</a></strong>, or <strong><a href="http://browsehappy.com/">upgrade your browser</a></strong> to improve your experience</span>
              </div>
              <![endif]-->
            </div>
          </div>
        </div>
        <div class="row">
          <div style="padding:0px 15px;">
            <form name="submitterForm" class="form-horizontal">
              <h2>1. Please enter your contact information.</h2>
              <hr>

              <div class="form-group required">
                <label class="col-sm-2 control-label" for="firstNameInput">First Name</label>
                <div class="col-sm-10">
                  <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N') || (userInfo && userInfo.firstName)"type="text" id="firstNameInput" class="form-control" placeholder="First Name" required ng-model="submitter.firstName" autofocus="">
                </div>
                <div style="clear:both;"></div>
              </div>              <div class="form-group required">
              <label class="col-sm-2 control-label" for="lastNameInput">Last Name</label>
              <div class="col-sm-10">
                <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N') || (userInfo && userInfo.lastName)"type="text" id="lastNameInput" class="form-control" placeholder="Last Name" required ng-model="submitter.lastName" autofocus="">
              </div>
              <div style="clear:both;"></div>
            </div>
            <div class="form-group required">
              <label class="col-sm-2 control-label" for="inputEmail">Email address</label>
              <div class="col-sm-10">
                <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="email" id="inputEmail" class="form-control" placeholder="Email address" required ng-model="submitter.email">
              </div>
              <div style="clear:both;"></div>
            </div>
            <div class="form-group required">
              <label class="col-sm-2 control-label" for="inputPhone">Phone</label>       
              <div class="col-sm-10">
                <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="tel"                
                id="inputPhone"                          
                name="inputPhone"                          
                class="form-control" 
                ng-model="submitter.phone" 
                ng-maxlength=200                  
                placeholder="xxx-xxx-xxxx"
                required
                ng-pattern='/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/'
                />
                <p ng-show="submitterForm.inputPhone.$error.pattern && !submitterForm.inputPhone.$focused" class="help-block">Not a valid phone number.</p>
              </div>
              <div style="clear:both;"></div>
            </div>
            <div class="form-group required">
              <label class="col-sm-2 control-label" for="inputOrganization">Organization</label>
              <div class="col-sm-10">
                <type-ahead
                type="text"                 
                id="inputOrganization"                       
                name="organization"                         
                ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
                ng-model="submitter.organization"
                ng-minlength=1
                ng-maxlength=120
                callback="business.orgTypeahead"
                statement="key.description as key.description for key in typeahead | looseFilter:$viewValue | limitTo:8"
                required 
                ng-focus
                placeholder="Organization"
                ></type-ahead>
              </div>
              <div style="clear:both;"></div>
            </div>
            <div class="checkbox col-sm-offset-2">
              <label >
                <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"style="margin-left: -15px;" type="checkbox" ng-checked="optIn" ng-model="optIn"> Opt in for Approval Notification (email will be sent to <i>{{submitter.email}}</i>)
              </label>
            </div>
            <br>
            <div class="col-sm-10 col-sm-offset-2" style="padding: 0px 5px;">
              <button class="btn btn-primary" ng-disabled="submitterForm.$invalid" ng-click="getStarted()? scrollTo('vitals', 'vitals', '', $event, 'componentName'):'';">Continue</button>
            </div>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 hidden-sm hidden-xs">
          <div id="top" style="padding:35px 0px 25px 0px;">
            <br>
            <br>
            <div class="input-group">
              <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
              <span class="form-control">This form will <strong>not</strong> add a component to the Clearhingouse Website, but will submit it for review under the DI2E Evaluation process. DI2E Administrators will then dertermine if it will later be added to the Clearinghouse Website.</span>
            </div>
            <br>
            <br>
          </div>
        </div>
      </div>
    </div>
    <!-- END GETTING STARTED SECTION -->

    <!-- VITAL INFORMATION SECTION -->
    <div ng-show="current === 'vitals'">
      <h1 id="vitals">2. Enter Required Component Information:</h1>
      <small><i>Note: All sections within this portion of the form are required. </small></i>
      <hr>

      <form name="requiredInfo" class="form-signin">
        <div class="required">
<!--           <div class="form-group" show-errors style="margin-bottom:0px;" >
            <label class="control-label" style="padding-top:7px;">Security Type</label>
            <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="component.component.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
              <option style="display:none" value="">Select a Type</option>
            </select>
          </div> -->
          <label style="position:relative; padding-right:15px; padding-top:7px;" for="name">Name</label>
          <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text" id="componentName" class="form-control" placeholder="Component Name" required ng-model="component.component.name" autofocus>
          <label style="position:relative; padding-right:15px; padding-top:7px;" for="description">Description</label>
          <div class="help-text">Describe the component with a description about what is it, purpose, features and capabilities</div>
          <textarea ckeditor="editorOptions" ng-model="component.component.description"></textarea>
          <label style="position:relative; padding-right:15px; padding-top:7px;" for="organization">Organization</label>
          <type-ahead
          type="text"                 
          id="organization"                       
          name="organization"                         
          ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
          ng-model="component.component.organization"
          ng-minlength=1
          ng-maxlength=120
          callback="business.orgTypeahead"
          statement="key.description as key.description for key in typeahead | looseFilter:$viewValue | limitTo:8"
          required 
          ng-focus
          placeholder="Organization"
          ></type-ahead>
        </div>
        <div style="padding-top:15px;">
          <label for="requiredAttributes">Required Attributes</label>
          <div class="help-text">Vitals that categorize the component</div>   
          <table id="requiredAttributes" class="table table-striped table-bordered">
            <tbody>
              <tr>
                <th>Attribute Type</th>
                <th>Attribute Code</th>
              </tr>
              <!-- repeat on each attribute -->
              <tr class="ng-scope" ng-repeat="attribute in requiredAttributes | shownattribute | requiredByComponentType:'COMP':false">
                <td ><span data-toggle="tooltip" data-placement="top" data-html="true" title="{{attribute.detailedDescription}}" class="required ng-binding" >{{attribute.description}}</span></td>
                <td>
                  <select  ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')" ng-init="setDefaultAttribute(attribute.attributeType, attribute, true)" type="text" ng-change="addTo(tempAtt, attribute, component.attributes); vitalsCheck(true)" class="form-control ng-pristine ng-valid" style="width: 100%" ng-model="tempAtt" id="WIDGET" data-min-length="0" data-html="1" data-animation="am-flip-x" placeholder="Select Code" ng-options="code as code.label for code in attribute.codes | makeattribute:attribute track by code.code "></select>
                  <div class="tags" ng-if="component.attributes[attribute.attributeType].items">
                    <ul class="tags-list" style="margin: 0; padding: 0; list-style-type: none;">
                      <li class="tag-item" style="margin: 2px; padding: 0 5px; display: inline-block; font: 14px \'Helvetica Neue\',Helvetica,Arial,sans-serif; height: 26px; line-height: 25px;">
                        <span ng-bind="component.attributes[attribute.attributeType].items[0].label"></span>
                        <a class="remove-button" ng-click="component.attributes[attribute.attributeType] = {items:[]}; tempAtt = null;" style="margin: 0 0 0 5px; padding: 0; border: 0; background: 0 0; cursor: pointer; vertical-align: middle; font: 700 16px Arial,sans-serif; color: #585858;">&times;</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
              <!-- repeat on each attribute -->
              <tr class="ng-scope" ng-repeat="attribute in attributes | shownattribute">
                <td ><span class="ng-binding" data-toggle="tooltip" data-placement="top" data-html="true" title="{{attribute.detailedDescription}}">{{attribute.description}}&nbsp;
                  <i class="glyphicon glyphicon-info-sign" style="font-size: 10px;" data-toggle="tooltip" data-placement="bottom" data-title="{{attribute.description}} information" data-trigger="hover" ng-click="openInfo(attribute)"></i>
                </span></td>
                <td>
                  <select class="form-control" ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"  ng-if="attribute.allowMultipleFlg" ng-change="addTo(tempAttribute, attribute, component.attributes);" ng-model="tempAttribute" ng-options="code as code.label for code in attribute.codes | makeattribute:attribute"></select>
                  <div class="tags" ng-if="attribute.allowMultipleFlg &&  component.attributes[attribute.attributeType] && component.attributes[attribute.attributeType].items && component.attributes[attribute.attributeType].items.length">
                    <ul class="tags-list" style="margin: 0; padding: 0; list-style-type: none;">
                      <li class="tag-item" style="margin: 2px; padding: 0 5px; display: inline-block; font: 14px \'Helvetica Neue\',Helvetica,Arial,sans-serif; height: 26px; line-height: 25px;" ng-repeat="item in component.attributes[attribute.attributeType].items">
                        <span ng-bind="item.label"></span>
                        <a class="remove-button" ng-click="removeFrom($index, component.attributes[attribute.attributeType].items)" style="margin: 0 0 0 5px; padding: 0; border: 0; background: 0 0; cursor: pointer; vertical-align: middle; font: 700 16px Arial,sans-serif; color: #585858;">&times;</a>
                      </li>
                    </ul>
                  </div>
                  <!-- <multiselect is-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"  ng-if="attribute.allowMultipleFlg" on-change="vitalsCheck()" selected="tempValues[$index]" options="code as code.label for code in list" list="attribute.codes | makeattribute:attribute"></multiselect> -->
                  <select  ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')" class="form-control" ng-if="!attribute.allowMultipleFlg" ng-model="component.attributes[attribute.attributeType].items[0]" ng-options="code as code.label for code in attribute.codes | makeattribute:attribute"></select>
                  <div class="tags" ng-if="!attribute.allowMultipleFlg && component.attributes[attribute.attributeType] && component.attributes[attribute.attributeType].items && component.attributes[attribute.attributeType].items[0]">
                    <ul class="tags-list" style="margin: 0; padding: 0; list-style-type: none;">
                      <li class="tag-item" style="margin: 2px; padding: 0 5px; display: inline-block; font: 14px \'Helvetica Neue\',Helvetica,Arial,sans-serif; height: 26px; line-height: 25px;">
                        <span ng-bind="component.attributes[attribute.attributeType].items[0].label"></span>
                        <a class="remove-button" ng-click="component.attributes[attribute.attributeType] = {items:[]}" style="margin: 0 0 0 5px; padding: 0; border: 0; background: 0 0; cursor: pointer; vertical-align: middle; font: 700 16px Arial,sans-serif; color: #585858;">&times;</a>
                      </li>
                    </ul>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div style="padding-bottom:15px;">
          <button class="btn btn-primary" ng-disabled="!vitalsCheck()" ng-click="initialSave($event)">Save Required Information</button>
        </div>
      </form>
    </div>
    <!-- END VITAL INFORMATION SECTION -->
    <hr>
    <!-- EXTRA INFORMATION SECTION -->
    <div ng-show="current === 'vitals'">
      <h1 id="details">3. Additional Component Details:<small><button class="btn btn-small btn-default" ng-click="vitalsCheck()? scrollTo('reviewAndSubmit', 'submit', '', $event): ''; detailsDone = true">Skip Section</button></small></h1>
      <small><i>Note: Sections within this portion of the form are not required, but fields will be marked with the red asterisk (<span style="color: red">*</span>) to show required information within the sections themselves. </small></i>
      <hr>

      <!-- META DATA -->
      <h2 id="metadata">Main Details<small><button class="btn btn-small btn-default" ng-click="vitalsCheck()? scrollTo('contacts', 'vitals', 'details', $event, 'contactType'): ''">Skip</button></small></h2>
      <panel class-list="edges" open-state="true" title="Add Tags">
       <div class="help-text">Add keywords that can help potential user discover the component</div>
       <form name="tagsUIForm" class="form-horizontal">
        <div class="form-group required">
          <label class="col-sm-2 control-label">Tag Text</label>
          <div class="col-sm-10">
            <tags-input 
            id="tagLabel"
            name="text"
            class="bootstrap" 
            min-length="1" 
            ng-minlength=1
            ng-maxlength=250
            ng-focus="tagsUIForm.text.$focused=true" 
            ng-blur="tagsUIForm.text.$focused=false" 
            ng-model="tagsForm.text" 
            replace-spaces-with-dashes="false" 
            ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
            required
            on-tag-added="addTag(tagsUIForm);"><auto-complete min-length="1" source="checkTagsList($query, component.tags, tagsList)"></auto-complete>
          </tags-input>
        </div>
        <p ng-show="tagsUIForm.text.$error.minlength && !tagsUIForm.text.$focused && formFocused(tagsUIForm)" class="help-block">Tag must be longer than 1 character in length.</p>
        <p ng-show="tagsUIForm.text.$error.required && !tagsUIForm.text.$focused && formFocused(tagsUIForm)" class="help-block">Text is required.</p>
        <div style="clear:both;"></div>
      </div>
      <h3 style="margin-top: 20px;" ng-show="component.tags.length">Added Tags</h3>
      <div class="tags">
        <ul class="tags-list" style="margin: 0; padding: 0; list-style-type: none;">
          <li ng-if="tag.text" class="tag-item" ng-repeat="tag in component.tags" style="margin: 2px; padding: 0 5px; display: inline-block; font: 14px \'Helvetica Neue\',Helvetica,Arial,sans-serif; height: 26px; line-height: 25px;">
            <span>{{tag.text}}</span>
            <a class="remove-button" ng-click="removeTag($index);" style="margin: 0 0 0 5px; padding: 0; border: 0; background: 0 0; cursor: pointer; vertical-align: middle; font: 700 16px Arial,sans-serif; color: #585858;">&times;</a>
          </li>
        </ul>
      </div>
    </form>
  </panel>
  <!-- <panel class-list="edges" open-state="true" title="Add Metadata">
       <div class="help-text">Add non-filterable items of information. (Eg. Label: CMAP Compatible   Value: 1.3+)</div>    
       <form name="metadataUIForm" class="form-horizontal">
        <div class="form-group required">
          <label class="col-sm-2 control-label">Label</label>
          <div class="col-sm-10">
            <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
            id="metadataLabel"
            name="label"
            class="form-control"
            ng-model="metadataForm.label"
            ng-minlength=1
            ng-maxlength=250
            on-enter="makeThisHappen(!metadataUIForm.$invalid, metadataUIForm, addMetadata)"
            ng-focus="metadataUIForm.label.$focused=true" 
            ng-blur="metadataUIForm.label.$focused=false; metadataUIForm.label.$hasBeenFocused = true" 
            required
            />
          </div>
          <p ng-show="metadataUIForm.label.$error.minlength && !metadataUIForm.label.$focused && metadataUIForm.label.$hasBeenFocused && formFocused(metadataUIForm)" class="help-block">Label must be longer than 1 character in length.</p>
          <p ng-show="metadataUIForm.label.$error.required && !metadataUIForm.label.$focused && metadataUIForm.label.$hasBeenFocused && formFocused(metadataUIForm)" class="help-block">A label is required.</p>
          <div style="clear:both;"></div>
        </div>
        <div class="form-group required">
          <label class="col-sm-2 control-label">Value</label>
          <div class="col-sm-10">
            <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
            name="value"
            class="form-control"
            ng-model="metadataForm.value"
            ng-minlength=1
            ng-maxlength=250
            on-enter="makeThisHappen(!metadataUIForm.$invalid, metadataUIForm, addMetadata)"
            ng-focus="metadataUIForm.value.$focused=true" 
            ng-blur="metadataUIForm.value.$focused=false; metadataUIForm.value.$hasBeenFocused = true" 
            required
            />
          </div>
          <p ng-show="metadataUIForm.value.$error.minlength && !metadataUIForm.value.$focused && metadataUIForm.value.$hasBeenFocused && formFocused(metadataUIForm)" class="help-block">Value must be longer than 1 character in length.</p>
          <p ng-show="metadataUIForm.value.$error.required && !metadataUIForm.value.$focused && metadataUIForm.value.$hasBeenFocused && formFocused(metadataUIForm)" class="help-block">A value is required.</p>
          <div style="clear:both;"></div>
        </div>
      </form>
      <button class="col-md-offset-2 btn btn-primary" type="button" ng-click="addMetadata(metadataUIForm)" ng-disabled="!vitalsCheck() || !metadataForm.label || !metadataForm.value || metadataUIForm.$invalid"><i class="fa fa-save"></i>&nbsp;Add</button>
      <h3 style="margin-top: 20px;" ng-show="component.metadata.length">Added Metadata</h3>
      <div class="tags">
        <ul class="tags-list" style="margin: 0; padding: 0; list-style-type: none;">
          <li ng-if="tag.label && tag.value" class="tag-item" ng-repeat="tag in component.metadata" style="margin: 2px; padding: 0 5px; display: inline-block; font: 14px \'Helvetica Neue\',Helvetica,Arial,sans-serif; height: 26px; line-height: 25px;">
            <span>{{tag.label}}&nbsp;&mdash;&nbsp;{{tag.value}}</span>
            <a class="remove-button" ng-click="removeMetadata($index);" style="margin: 0 0 0 5px; padding: 0; border: 0; background: 0 0; cursor: pointer; vertical-align: middle; font: 700 16px Arial,sans-serif; color: #585858;">&times;</a>
          </li>
        </ul>
      </div>
    </panel> -->    
    <hr>
    <!-- END META DATA -->

    <!-- CONTACTS -->
    <h2 id="contacts">Contacts<small><button class="btn btn-small btn-default" ng-click="vitalsCheck()? scrollTo('dependencies', 'vitals', 'details', $event, 'mediaFormType'): ''">Skip</button></small></h2>
    <panel class-list="edges" open-state="true" title="Add Contact">
     <div class="help-text">Add government, technical, and other points of contact.</div>   
     <form name="contactUIForm" class="form-horizontal">
      <!-- <div class="form-group">
        <label class="col-sm-2 control-label">Security Type</label>
        <div class="col-sm-10">
          <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="contactForm.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
            <option style="display:none" value="">Select a Type</option>
          </select>
        </div>        
      </div>         -->
      <div class="form-group required" show-errors >
        <label class="col-sm-2 control-label ">Contact Type</label>
        <div class="col-sm-10">
          <select  ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')" type="text" name="contactType" id="contactType" class="form-control" ng-focus="contactUIForm.contactType.$focused=true" 
          ng-blur="contactUIForm.contactType.$focused=false" ng-model="contactForm.contactType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="code.code as code.description for code in contactTypes | contactsfilter:'code'" placeholder="Select Type" required></select>
        </div>
        <div style="clear:both;"></div>
      </div>
      <div class="form-group required">
        <label class="col-sm-2 control-label ">First Name</label>
        <div class="col-sm-10">
          <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
          id="contactsFirstName"
          name="firstName"
          class="form-control"
          ng-model="contactForm.firstName"
          on-enter="makeThisHappen(!contactUIForm.$invalid, contactUIForm, addContact)"
          ng-minlength=1
          ng-maxlength=200
          ng-focus="contactUIForm.firstName.$focused=true" 
          ng-blur="contactUIForm.firstName.$focused=false; contactUIForm.firstName.$hasBeenFocused = true;" 
          required
          />
        </div>
        <p ng-show="contactUIForm.firstName.$error.minlength && !contactUIForm.firstName.$focused && contactUIForm.firstName.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">First Name must be longer than 1 character in length.</p>
        <p ng-show="contactUIForm.firstName.$error.required && !contactUIForm.firstName.$focused && contactUIForm.firstName.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">A first name is required.</p>
        <div style="clear:both;"></div>
      </div>
      <div class="form-group required">
        <label class="col-sm-2 control-label ">Last Name</label>
        <div class="col-sm-10">
          <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
          id="lastName"
          name="lastName"
          class="form-control"
          ng-model="contactForm.lastName"
          ng-minlength=1
          on-enter="makeThisHappen(!contactUIForm.$invalid, contactUIForm, addContact)"
          ng-maxlength=200
          ng-focus="contactUIForm.lastName.$focused=true" 
          ng-blur="contactUIForm.lastName.$focused=false; contactUIForm.lastName.$hasBeenFocused = true;" 
          required
          />
        </div>
        <p ng-show="contactUIForm.lastName.$error.minlength && !contactUIForm.lastName.$focused && contactUIForm.lastName.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">Last Name must be longer than 1 character in length.</p>
        <p ng-show="contactUIForm.lastName.$error.required && !contactUIForm.lastName.$focused && contactUIForm.lastName.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">A last name is required.</p>
        <div style="clear:both;"></div>
      </div>
      <div class="form-group required">
        <label class="col-sm-2 control-label ">Organization</label>
        <div class="col-sm-10">
          <type-ahead
          type="text"                 
          id="organization"                       
          name="organization"                         
          ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
          ng-model="contactForm.organization"
          ng-minlength=1
          ng-maxlength=120
          callback="business.orgTypeahead"
          statement="key.description as key.description for key in typeahead | looseFilter:$viewValue | limitTo:8"
          required 
          ng-focus
          placeholder="Organization"
          on-enter="makeThisHappen(!contactUIForm.$invalid, contactUIForm, addContact)"
          ng-focus="contactUIForm.organization.$focused=true" 
          ng-blur="contactUIForm.organization.$focused=false; contactUIForm.organization.$hasBeenFocused = true;" 
          ></type-ahead>
        </div>
        <p ng-show="contactUIForm.organization.$error.minlength && !contactUIForm.organization.$focused && contactUIForm.organization.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">Organization must be longer than 1 character in length.</p>
        <p ng-show="contactUIForm.organization.$error.required && !contactUIForm.organization.$focused && contactUIForm.organization.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">An organization is required.</p>
        <div style="clear:both;"></div>
      </div>
      <div class="form-group required">
        <label class="col-sm-2 control-label">Email</label>
        <div class="col-sm-10">
          <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
          type="email"
          id="email"
          name="email"
          class="form-control"
          ng-model="contactForm.email"
          ng-focus="contactUIForm.email.$focused=true" 
          ng-blur="contactUIForm.email.$focused=false;  contactUIForm.email.$hasBeenFocused = true;" 
          on-enter="makeThisHappen(!contactUIForm.$invalid, contactUIForm, addContact)"
          ng-maxlength=200
          maxlength=200
          required
          />
        </div>
        <div style="clear:both;"></div>
      </div>
      <div class="form-group required">
        <label class="col-sm-2 control-label">Phone</label>
        <div class="col-sm-10">
          <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
          type="tel"
          id="phone"
          name="phone"
          class="form-control"
          ng-model="contactForm.phone"
          ng-maxlength=200
          ng-focus="contactUIForm.phone.$focused=true" 
          ng-blur="contactUIForm.phone.$focused=false;  contactUIForm.phone.$hasBeenFocused = true;" 
          placeholder="xxx-xxx-xxxx"
          ng-pattern='/^\s*(?:\+?(\d{1,3}))?([-. (]*(\d{3})[-. )]*)?((\d{3})[-. ]*(\d{2,4})(?:[-.x ]*(\d+))?)\s*$/'
          on-enter="makeThisHappen(!contactUIForm.$invalid, contactUIForm, addContact)"
          required      
          />
          <p ng-show="contactUIForm.phone.$error.pattern && !contactUIForm.phone.$focused && contactUIForm.phone.$hasBeenFocused && formFocused(contactUIForm)" class="help-block">Not a valid phone number.</p>
        </div>
        <div style="clear:both;"></div>
      </div>
      <div class="col-sm-12">
        <button type="button" class="col-md-offset-2 btn btn-primary" ng-click="addContact(contactUIForm)" ng-disabled="!vitalsCheck() || contactUIForm.$invalid || !contactForm.contactType || !contactForm.firstName || !contactForm.lastName || !contactForm.organization || !contactForm.email || !contactForm.phone"><i class="fa fa-save"></i>&nbsp;Add</button>
      </div>
      <div style="clear:both;"></div>
      <h3 style="margin-top: 20px;" ng-show="component.contacts.length">Added Contacts</h3>
      <table style="margin-top:10px;" ng-show="component.contacts.length" class="table table-striped table-bordered admin-table">
        <tr>
          <th>Contact Type</th>
          <th>First Name</th>
          <th>Last Name</th>
          <th>Organization</th>
          <th>Email</th>
          <th>Phone</th>
          <!-- <th>Security Type</th> -->
          <th>Action</th>
        </tr>
        <tr ng-disabled="contact.contactType.code === 'SUB' " ng-repeat="contact in component.contacts" >
          <td>{{getContactTypeDesc(contact.contactType)}}</td>
          <td>{{contact.firstName}}</td>
          <td>{{contact.lastName}}</td>
          <td>{{contact.organization}}</td>
          <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">{{contact.email}}</td>
          <td>{{contact.phone}}</td>
          <!-- <td>{{getSecurityDesc(contact.securityMarkingType)}}</td> -->
          <td style="padding:0px 3px !important; vertical-align: middle;">&nbsp;
            <button class="btn btn-danger btn-sm" ng-disabled="contact.contactType.code === 'SUB' " ng-click="removeContact($index);" title="Delete"><i class="fa fa-trash"></i></button>
          </td>
        </tr>
      </table>
    </form>
  </panel>
  <hr>
  <!-- END CONTACTS -->


  <!-- DEPENDENCIES -->
  <h2 id="dependencies">Dependencies:<small><button class="btn btn-small btn-default" ng-click="vitalsCheck()? scrollTo('resources', 'vitals', 'details', $event, 'resourceFormType'): ''">Skip</button></small></h2>
  <panel class-list="edges" open-state="true" title="Add Dependency">
   <div class="help-text">Describe what is needed to utilize the component. Enter each dependency separately.  (Eg. Java 7+,  MySql 5+)</div>   
   <form name="dependencyUIForm" class="form-horizontal">
    <!-- <div class="form-group">
      <label class="col-sm-2 control-label">Security Type</label>
      <div class="col-sm-10">
        <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="dependencyForm.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
          <option style="display:none" value="">Select a Type</option>
        </select>
      </div>        
    </div>         -->
    <div class="form-group required">
      <label class="col-sm-2 control-label">Name</label>
      <div class="col-sm-10">
        <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
        id="dependencyFormName"
        name="name"
        ng-focus="dependencyUIForm.name.$focused=true" 
        ng-blur="dependencyUIForm.name.$focused=false; dependencyUIForm.name.$hasBeenFocused = true;" 
        class="form-control"
        ng-model="dependencyForm.dependencyName"
        on-enter="makeThisHappen(!dependencyUIForm.$invalid, dependencyUIForm, addDependency)"
        ng-minlength=1
        ng-maxlength=250
        required
        />
      </div>
      <p ng-show="dependencyUIForm.name.$error.minlength && !dependencyUIForm.name.$focused && dependencyUIForm.name.$hasBeenFocused &&formFocused(dependencyUIForm)" class="help-block">Name must be longer than 1 character in length.</p>
      <p ng-show="dependencyUIForm.name.$error.required && !dependencyUIForm.name.$focused && dependencyUIForm.name.$hasBeenFocused &&formFocused(dependencyUIForm)" class="help-block">A name is required.</p>
      <div style="clear:both;"></div>
    </div>
    <div class="form-group required">
      <label class="col-sm-2 control-label">Version</label>
      <div class="col-sm-10">
        <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
        id="dependencyFormVersion"
        name="version"
        ng-focus="dependencyUIForm.version.$focused=true" 
        ng-blur="dependencyUIForm.version.$focused=false; dependencyUIForm.version.$hasBeenFocused = true;" 
        on-enter="makeThisHappen(!dependencyUIForm.$invalid, dependencyUIForm, addDependency)"
        class="form-control"
        ng-model="dependencyForm.version"
        ng-minlength=1
        ng-maxlength=250
        required
        />
      </div>
      <p ng-show="dependencyUIForm.version.$error.minlength && !dependencyUIForm.version.$focused && dependencyUIForm.version.$hasBeenFocused &&formFocused(dependencyUIForm)" class="help-block">Version must be longer than 1 character in length.</p>
      <p ng-show="dependencyUIForm.version.$error.required && !dependencyUIForm.version.$focused && dependencyUIForm.version.$hasBeenFocused &&formFocused(dependencyUIForm)" class="help-block">A version is required.</p>
      <div style="clear:both;"></div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">External Link</label>
      <div class="col-sm-10">
        <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
        id="dependencyReferenceLink"
        name="dependencyReferenceLink"
        ng-focus="dependencyUIForm.dependencyReferenceLink.$focused=true" 
        ng-blur="dependencyUIForm.dependencyReferenceLink.$focused=false" 
        on-enter="makeThisHappen(!dependencyUIForm.$invalid, dependencyUIForm, addDependency)"
        class="form-control"
        placeholder="http://www.example.com"
        ng-model="dependencyForm.dependencyReferenceLink"
        ng-minlength=0
        ng-maxlength=250
        ng-focus/>
      </div>
      <div style="clear:both;"></div>
    </div>
    <div class="form-group">
      <label class="col-sm-2 control-label">Comment</label>
      <div class="col-sm-10">
        <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
        id="comment"
        name="comment"
        ng-focus="dependencyUIForm.comment.$focused=true" 
        ng-blur="dependencyUIForm.comment.$focused=false" 
        on-enter="makeThisHappen(!dependencyUIForm.$invalid, dependencyUIForm, addDependency)"
        class="form-control"
        ng-model="dependencyForm.comment"
        ng-minlength=0
        ng-maxlength=250
        ng-focus/>
      </div>
      <div style="clear:both;"></div>
    </div>



    <div class="col-sm-12">
      <button type="button" class=" col-md-offset-2 btn btn-primary" ng-click="addDependency(dependencyUIForm)" ng-disabled="!vitalsCheck() || !dependencyForm.dependencyName || !dependencyForm.version || dependencyUIForm.$invalid"><i class="fa fa-save"></i>&nbsp;Add</button>
    </div>
    <div style="clear:both;"></div>
    <h3 style="margin-top: 20px;" ng-show="component.externalDependencies.length">Added Dependencies</h3>
    <table style="margin-top:10px;" ng-show="component.externalDependencies.length" class="table table-striped table-bordered admin-table">
      <tr>
        <th>Name</th>
        <th>Version</th>
        <th>External Link</th>
        <th>Comment</th>
        <!-- <th>Security Type</th> -->
        <th>Action</th>
      </tr>
      <tr ng-repeat="dependency in component.externalDependencies" >
        <td>{{dependency.dependencyName}}</td>
        <td>{{dependency.version}}</td>
        <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">{{dependency.dependencyReferenceLink}}</td>
        <td>{{dependency.comment}}</td>
        <!-- <td>{{getSecurityDesc(dependency.securityMarkingType)}}</td> -->
        <td style="padding:0px 3px !important; vertical-align: middle;">&nbsp;
          <button class="btn btn-danger btn-sm" ng-click="removeDependency($index);" title="Delete"><i class="fa fa-trash"></i></button>
        </td>
      </tr>
    </table>
  </form>
</panel>
<!-- END DEPENDENCIES -->

<hr>

<!-- EXTERNAL RESOURCES -->
<h2 id="resources">External Links:<small><button class="btn btn-small btn-default" ng-click="vitalsCheck()? scrollTo('media', 'vitals', 'details', $event, 'dependencyFormName'): ''">Skip</button></small></h2>
<panel class-list="edges" open-state="true" title="Add External Links" style="position:relative">
  <loader trigger="resourcePreviewLoader"></loader>
  <div class="help-text">External Links show up under the 'External Links' section on the details page for this component.<br><br>Add links to home page, documentation, binaries, etc... If there is no external link for a resource it may be uploaded so that it may be shared with the community.  Preferably, the resource should be managed externally.</div>     
  Current max upload size &lt; 100Mb
        <!--[if lt IE 10]>
        <div class="input-group" style="margin:5px 0px; padding:0px 15px;">
          <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
          <span class="form-control">There is a known issue with uploading files on IE9 in this submission form. If this will be an issue for your submission, please switch to <strong><a href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a></strong> or <strong><a href="https://www.google.com/intl/en-US/chrome/browser/">Chrome</a></strong>, or <strong><a href="http://browsehappy.com/">upgrade your browser</a></strong> to improve your experience</span>
        </div>
        <![endif]-->
        <div class="col-sm-12">
          <div class="input-group">
            <label for="showResourceUpload" class="input-group-addon">
              Type of External Link
            </label>
            <select class="form-control" name="showResourceUpload" id="showResourceUpload" ng-model="showResourceUpload" ng-click="toggleShowResource(showResourceUpload)">
              <option value="trueValue">Link</option>
              <option value="falseValue">Upload</option>
            </select>
          </div>
        </div>
        <br>
        <div ng-show="showResourceUpload === 'trueValue'">
          <div class="col-sm-12 input-group">
            <label for="displayGrades" class="form-control select-hover">
              <!-- <div class="form-group">
                <label class="col-sm-2 control-label">Security Type</label>
                <div class="col-sm-10">
                  <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="resourceForm.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
                    <option style="display:none" value="">Select a Type</option>
                  </select>
                </div>        
              </div>  -->
              <div class="form-group">
                <label class="col-sm-2 control-label">External Link Type</label>
                <div class="col-sm-10">
                  <select  type="text" class="form-control" name="resourceType" id="resourceFormType" ng-model="resourceForm.resourceType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="code.code as code.description for code in resourceTypes" placeholder="Select Type" ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N') || showResourceUpload === 'falseValue'"></select>
                </div>
                <div style="clear:both;"></div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Description</label>
                <div class="col-sm-10">
                  <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
                  class="form-control"
                  type="text"
                  name="caption"
                  ng-model="resourceForm.description"
                  ng-minlength=0
                  ng-maxlength=250
                  placeholder="Caption"
                  ng-disabled="!vitalsCheck() || showResourceUpload === 'falseValue'"
                  />
                </div>
                <div style="clear:both;"></div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Link</label>
                <div class="col-sm-10">
                  <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
                  id="link"
                  name="link"
                  class="form-control"
                  placeholder="http:///www.example.com/image.png"
                  ng-model="resourceForm.link"
                  ng-disabled="!vitalsCheck() || showResourceUpload === 'falseValue' || !resourceForm.resourceType"
                  ng-minlength=0
                  ng-maxlength=250
                  />
                </div>
                <div style="clear:both;"></div>
              </div>
              <div class="col-sm-12">
                <button type="button" class="btn btn-primary" ng-click="addLinkToResource()" ng-disabled="!vitalsCheck() || showResourceUpload === 'falseValue' || !resourceForm.resourceType || !resourceForm.link"><i class="fa fa-save"></i>&nbsp;Add Link</button>
              </div>
            </label>
          </div>
        </div>
        <div ng-show="showResourceUpload === 'falseValue'">
          <div class="col-sm-12 input-group">
            <label for="displayGrades" class="form-control select-hover">
              <!-- <div class="form-group">
                <label class="col-sm-2 control-label">Security Type</label>
                <div class="col-sm-10">
                  <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="resourceForm.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
                    <option style="display:none" value="">Select a Type</option>
                  </select>
                </div>        
              </div>  -->
              <div class="form-group">
                <label class="col-sm-2 control-label">External Link Type</label>
                <div class="col-sm-10">
                  <select type="text" class="form-control" name="resourceType"  ng-model="resourceForm.resourceType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="code.code as code.description for code in resourceTypes" placeholder="Select Type" ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N') || lastResourceFile || showResourceUpload === 'trueValue' || isFullResource"></select>
                </div>
                <div style="clear:both;"></div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Caption</label>
                <div class="col-sm-10">
                  <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
                  class="form-control"
                  type="text"
                  name="caption"
                  ng-model="resourceForm.description"
                  ng-minlength=0
                  ng-maxlength=250
                  placeholder="Caption"
                  ng-disabled="!vitalsCheck() || lastResourceFile || showResourceUpload === 'trueValue' || isFullResource"
                  />
                </div>
                <div style="clear:both;"></div>
              </div>
              <div class="col-sm-12">
                <span class="btn btn-primary btn-file" ng-disabled="!vitalsCheck() || lastResourceFile || showResourceUpload === 'trueValue' || !resourceForm.resourceType ||  isFullResource">
                  <i class="fa fa-save"></i>&nbsp;Add File <input type="file" nv-file-select uploader="resourceUploader" name="uploadFile" id="resourceUploadInput" width="100" ng-disabled="!vitalsCheck() || lastResourceFile || showResourceUpload === 'trueValue' || !resourceForm.resourceType || isFullResource || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"/>
                </span> <span>{{lastResourceFile}}</span>
              </div>
            </label>
          </div>
        </div>
        <!-- onchange="angular.element(this).scope().addMedia()" -->
        <div id="srcList">
          <div class="col-sm-12">
            <h3 style="margin-top: 20px;" ng-show="resourceQueue.length || component.resources.length">External Link Upload Queue</h3>
            <table class="table table-stripped table-bordered" ng-show="resourceQueue.length || component.resources.length">
              <tr>
                <th>Type</th>
                <th>Caption</th>
                <th>Mime Type</th>
                <!-- <th>Security Type</th> -->
                <th>Preview/Link</th>
                <th>Actions</th>
              </tr>
              <tr ng-repeat="item in resourceQueue">
                <td>{{getResourceTypeDesc(item.file.resourceType)}}</td>
                <td>{{item.file.description}}</td>
                <td>{{item.file.mimeType}}</td>
                <!-- <td>{{getSecurityDesc(item.file.securityMarkingType)}}</td> -->
                <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">
                  <button type="button" class="btn btn-sm btn-default" dynamic-popover container="body" title="" content="item.dom" placement="top" trigger="click">
                    <i ng-class="getMimeTypeClass(item.file.mimeType)" class="fa fa-lg"></i>
                  </button>
                </td>
                <td><button class="btn btn-danger" ng-click="removeFromResourceQueue(item)"><i class="fa fa-trash"></i>&nbsp;Delete</button></td>
              </tr>
              <tr ng-repeat="item in component.resources">
                <td>{{getResourceTypeDesc(item.resourceType)}}</td>
                <td>{{item.description}}</td>
                <td>&mdash;</td>
                <!-- <td>{{getSecurityDesc(item.securityMarkingType)}}</td> -->
                <td ng-if="!item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="item.link"></td>
                <!-- <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" ></td> -->
                <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="getResourceHTML(item)"></td>
                <td><button class="btn btn-danger" ng-click="deleteResource(item)"><i class="fa fa-trash"></i>&nbsp;Delete</button></td>
              </tr>
            </table>
          </div>
        </div>
      </panel>
      <!-- END EXTERNAL RESOURCES -->

      <hr>

      <!-- MEDIA -->
      <h2 id="media">Media:</h2>
      <panel class-list="edges" open-state="true" title="Add Media" style="position:relative">
        <div masked="mediaLoader" >
         <div class="help-text">Media show up in the media carousel section on the details page for this component.<br><br>Add screen shots, company logos, short videos clips, etc... Typically, media is uploaded as that makes it the most accessible.  External resources can be pointed to by using an external link. External resources work best with a valid SSL certificate and are unrestricted (ie. no login).</div>         
         Current max upload size &lt; 100Mb
          <!--[if lt IE 10]>
          <div class="input-group" style="margin:5px 0px; padding:0px 15px;">
            <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
            <span class="form-control">There is a known issue with uploading files on IE9 in this submission form. If this will be an issue for your submission, please switch to <strong><a href="http://www.mozilla.org/en-US/firefox/new/">Firefox</a></strong> or <strong><a href="https://www.google.com/intl/en-US/chrome/browser/">Chrome</a></strong>, or <strong><a href="http://browsehappy.com/">upgrade your browser</a></strong> to improve your experience</span>
          </div>
          <![endif]-->
          <div class="col-sm-12">
            <div class="input-group">
              <label for="showMediaUpload" class="input-group-addon">
                Type of External Link
              </label>
              <select class="form-control" name="showMediaUpload" id="showMediaUpload" ng-model="showMediaUpload" ng-click="toggleShowMedia(showMediaUpload)">
                <option value="trueValue">Link</option>
                <option value="falseValue">Upload</option>
              </select>
            </div>
          </div>
          <div class="" ng-show="showMediaUpload === 'falseValue'">
            <div class="col-sm-12 input-group">
              <label for="displayGrades" class="form-control select-hover">
                <!-- <div class="form-group">
                  <label class="col-sm-2 control-label">Security Type</label>
                  <div class="col-sm-10">
                    <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="mediaForm.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
                      <option style="display:none" value="">Select a Type</option>
                    </select>
                  </div>        
                </div>  -->
                <div class="form-group">
                  <label class="col-sm-2 control-label">Media Type</label>
                  <div class="col-sm-10">
                    <select type="text" class="form-control" name="typeCode" id="mediaFormType" ng-model="mediaForm.mediaTypeCode" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="code.code as code.description for code in mediaTypes" placeholder="Select Type"  ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N') || lastMediaFile || showMediaUpload === 'trueValue' || isFull"></select>
                  </div>
                  <div style="clear:both;"></div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Caption</label>
                  <div class="col-sm-10">
                    <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
                    class="form-control"
                    type="text"
                    name="caption"
                    ng-model="mediaForm.caption"
                    ng-minlength=0
                    ng-maxlength=250
                    placeholder="Caption"
                    ng-disabled="!vitalsCheck() || lastMediaFile || showMediaUpload === 'trueValue' || isFull"
                    />
                  </div>
                  <div style="clear:both;"></div>
                </div>
                <div class="col-sm-12">
                  <span class="btn btn-primary btn-file" ng-disabled="!vitalsCheck() || lastMediaFile || showMediaUpload === 'trueValue' || !mediaForm.mediaTypeCode || isFull">
                    <i class="fa fa-save"></i>&nbsp;Add File <input type="file" nv-file-select uploader="mediaUploader" name="uploadFile" id="mediaUploadInput" width="100" ng-disabled="!vitalsCheck() || lastMediaFile || showMediaUpload === 'trueValue' || !mediaForm.mediaTypeCode || isFull || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"/>
                  </span> <span>{{lastMediaFile}}</span>
                </div>
              </label>
            </div>
          </div>
          <div class="" ng-show="showMediaUpload === 'trueValue'">
            <div class="col-sm-12 input-group">
              <label for="displayGrades" class="form-control select-hover">
                <!-- <div class="form-group">
                  <label class="col-sm-2 control-label">Security Type</label>
                  <div class="col-sm-10">
                    <select smartselect type="text" class="form-control" id="component_securityType" name="securityType" ng-model="mediaForm.securityMarkingType" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="status.code as status.description for status in securityTypes">
                      <option style="display:none" value="">Select a Type</option>
                    </select>
                  </div>        
                </div>  -->
                <div class="form-group">
                  <label class="col-sm-2 control-label">Media Type</label>
                  <div class="col-sm-10">
                    <select type="text" class="form-control" name="typeCode"  ng-model="mediaForm.mediaTypeCode" data-min-length="0" data-html="1" data-animation="am-flip-x" ng-options="code.code as code.description for code in mediaTypes" placeholder="Select Type" ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N') || showMediaUpload === 'falseValue'"></select>
                  </div>
                  <div style="clear:both;"></div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Caption</label>
                  <div class="col-sm-10">
                    <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"
                    class="form-control"
                    type="text"
                    name="caption"
                    ng-model="mediaForm.caption"
                    ng-minlength=0
                    ng-maxlength=250
                    placeholder="Caption"
                    ng-disabled="!vitalsCheck() || showMediaUpload === 'falseValue'"
                    />
                  </div>
                  <div style="clear:both;"></div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Link</label>
                  <div class="col-sm-10">
                    <input ng-disabled="!vitalsCheck() || (component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="text"
                    id="link"
                    name="link"
                    class="form-control"
                    placeholder="http:///www.example.com/image.png"
                    ng-model="mediaForm.link"
                    ng-disabled="!vitalsCheck() || showMediaUpload === 'falseValue' || !mediaForm.mediaTypeCode"
                    ng-minlength=0
                    ng-maxlength=250
                    />
                  </div>
                  <div style="clear:both;"></div>
                </div>
                <div class="col-sm-12">
                  <button type="button" class="btn btn-primary" ng-click="addLinkToMedia()" ng-disabled="!vitalsCheck() || showMediaUpload === 'falseValue' || !mediaForm.mediaTypeCode || !mediaForm.link"><i class="fa fa-save"></i>&nbsp;Add Link</button>
                </div>
              </label>
            </div>
          </div>
          <!-- onchange="angular.element(this).scope().addMedia()" -->
          <div id="srcList">
            <div class="col-sm-12">
              <h3 style="margin-top: 20px;" ng-show="queue.length || component.media.length">Media Upload Queue</h3>
              <table class="table table-stripped table-bordered" ng-show="queue.length || component.media.length">
                <tr>
                  <th>Type</th>
                  <th>Caption</th>
                  <th>Mime Type</th>
                  <!-- <th>Security Type</th> -->
                  <th>Preview/Link</th>
                  <th>Actions</th>
                </tr>
                <tr ng-repeat="item in queue">
                  <td>{{getMediaTypeDesc(item.file.mediaTypeCode)}}</td>
                  <td>{{item.file.caption}}</td>
                  <td>{{item.file.mimeType}}</td>
                  <!-- <td>{{getSecurityDesc(item.file.securityMarkingType)}}</td> -->
                  <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">
                    <button type="button" class="btn btn-sm btn-default" dynamic-popover container="body" title="" content="item.dom" placement="auto top" trigger="click">
                      <i ng-class="getMimeTypeClass(item.file.mimeType)" class="fa fa-lg"></i>
                    </button>
                  </td>
                  <td><button class="btn btn-danger" ng-click="removeFromQueue(item)"><i class="fa fa-trash"></i>&nbsp;Delete</button></td>
                </tr>
                <tr ng-repeat="item in component.media">
                  <td>{{getMediaTypeDesc(item.mediaTypeCode)}}</td>
                  <td>{{item.caption}}</td>
                  <td>&mdash;</td>
                  <!-- <td>{{getSecurityDesc(item.securityMarkingType)}}</td> -->
                  <td ng-if="!item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="item.link"></td>
                  <!-- <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;"></td> -->
                  <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="getMediaHTML(item)"></td>
                  <td><button class="btn btn-danger" ng-click="deleteMedia(item)"><i class="fa fa-trash"></i>&nbsp;Delete</button></td>
                </tr>
              </table>
            </div>
          </div>
          <div style="clear:both;"></div>
        </div>
      </panel>
      <!-- END MEDIA -->


      <div style="padding-bottom:15px;">
        <button class="btn btn-primary" ng-click="updateSave($event)">Save, Review and Submit</button>
      </div>
    </div>
    <!-- END EXTRA DETAILS SECTION -->

    <!-- REVIEW AND SUBMIT SECTION -->
    <div ng-show="current === 'submit'">
      <h1 ng-show="!(component.component.approvalState && component.component.approvalState !== 'N')" id="reviewAndSubmit">4. Review and submit the component:</h1>
      <h1 ng-show="(component.component.approvalState && component.component.approvalState !== 'N')" id="reviewAndSubmit">Component Preview:
        <br>
        <br>
        <small>Thank you for the submission! This component is currently waiting in the admin queue for approval!</small>
        <br>
      </h1>
      <hr>
      <div ng-show="notDif" class="input-group" style="margin: 0px; padding: 0px;">
        <span class="input-group-addon"><i class="fa fa-check" style="color:#70B946"></i></span>
        <span class="form-control">All progress has been saved for this component up to this point.</span>
      </div>
      <div ng-show="!notDif" class="input-group" style="margin: 0px; padding: 0px;">
        <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
        <span class=" btn btn-default form-control" ng-click="updateSave($event)" style="text-align:left">Something has changed. Click here to 'Save Progress' up to this point.</span>
      </div>
      <div ng-show="!(component.component.approvalState && component.component.approvalState !== 'N')" class="input-group" style="margin: 0px; padding: 0px;">
        <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
        <span class="form-control">This component must be submitted before an admin can approve it.</span>
      </div>
      <br>
      <form name="optInForm">
        <div class="checkbox">
          <label>
            <input ng-disabled="(component && component.component && component.component.approvalState && component.component.approvalState !=='N')"type="checkbox" ng-checked="optIn" ng-model="optIn"> Opt in for Approval Notification (email will be sent to <i>{{submitter.email}}</i>)
          </label>
        </div>
      </form>

      <h3>Component Quick View</h3>
      <div class="left liners">
        <div class="line" style="padding-left:0px; padding-right:0px;">
          <a target="_self" class="btn btn-sm btn-default" href="#vitals" ng-click="getStarted()? scrollTo('vitals', 'vitals', '', $event, 'componentName'):'';"><i class="fa fa-edit"></i>&nbsp;<small>Edit Required Information</small></a>
        </div>
        <div class="line" ><strong>Component:&nbsp;</strong> {{component.component.name}}</div>
        <div class="line" ><strong>Organization:&nbsp;</strong> {{component.component.organization}}</div>
        <div class="line" ><strong>Description<classification ls style="font-size:14px;"  ng-model="component.component"></classification>:&nbsp;</strong><span dynamichtml="component.component.description"></span></div>
        <div class="line" ng-show="badgeFound"><strong>Badges:&nbsp;</strong></div>
        <div ng-show="badgeFound">
          <div ng-repeat="attribute in component.attributes" style="display:inline-block;">
            <img ng-show="attribute.badgeUrl" ng-src="{{attribute.badgeUrl}}" alt="Attribute Badge"  data-toggle="tooltip" data-placement="bottom" data-title="{{attribute.label}}" data-trigger="hover" style=" width: auto; height: 40px;">
          </div>
        </div>    
      </div>
      <div style="clear:both;"></div>

      <hr>

      <div class="col-sm-12" style="padding-left:0px; padding-right:0px;">
        <a target="_self" class="btn btn-sm btn-default" href="#metadata" ng-click="vitalsCheck()? scrollTo('metadata', 'vitals', 'details', $event, 'tagLabel'): ''"><i class="fa fa-edit"></i>&nbsp;<small><span ng-show="component.tags.length || (component.attributes.length - requiredAttributes.length > 0) || component.metadata.length">Edit</span><span ng-show="!(component.tags.length || (component.attributes.length - requiredAttributes.length > 0) || component.metadata.length)">Add More</span> Details</small></a>
      </div>
      <div ng-show="component.tags.length" class="left border" style="margin-top:55px;" ><strong>Tags:&nbsp;</strong> <span ng-repeat="tag in component.tags" style="border: 1px solid lightgray; border-radius: 4px; padding: 3px;">{{tag.text}}</span></div>
      <div class="left" ng-show="component.metadata.length || component.attributes.length" ><strong>Component Vitals:&nbsp;</strong>
        <table class="table table-striped table-bordered" style="table-layout:fixed">
          <tr ng-repeat="attribute in getCompactAttributes() track by $index">
            <td>
              {{getAttributeTypeDesc(attribute.attributeType)}}
            </td>
            <td class="{{attribute.highlightStyle}}">
              {{attribute.label}}
            </td>
          </tr>
          <tr ng-repeat="metadata in component.metadata">
            <td>
              {{metadata.label}}
            </td>
            <td>
              {{metadata.value}}
            </td>
          </tr>
        </table>
      </div>
      <div style="clear:both;"></div>

      <hr>

      <div class="col-sm-12" style="padding-left:0px; padding-right:0px;">
        <a target="_self" class="btn btn-sm btn-default" href="#details" ng-click="vitalsCheck()? scrollTo('contacts', 'vitals', 'details', $event, 'contactType'): ''"><i class="fa fa-edit"></i>&nbsp;<small><span ng-show="component.contacts.length">Edit</span><span ng-show="!(component.contacts.length)">Add</span> Contacts</small></a>
      </div>
      <div class="left" ng-show="component.contacts.length" ><strong>Points of Contact:&nbsp;</strong>
        <div>
          <table class="table table-striped table-bordered" style="table-layout:fixed">
            <tr>
              <th>Type</th>
              <th>Name</th>
              <th>Organization</th>
              <th>Email</th>
              <th>Phone</th>
              <!-- <th>Security Type</th> -->
            </tr>
            <tr ng-repeat="contact in component.contacts">
              <td>{{getContactTypeDesc(contact.contactType)}}</td>
              <td>{{contact.firstName}} {{contact.lastName}}</td>
              <td>{{contact.organization}}</td>
              <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">{{contact.email}}</td>
              <td>{{contact.phone}}</td>
              <!-- <td>{{getSecurityDesc(contact.securityMarkingType)}}</td> -->
            </tr>
          </table>
        </div>
      </div>
      <div style="clear:both;"></div>

      <hr>

      <div class="col-sm-12" style="padding-left:0px; padding-right:0px;">
        <a target="_self" class="btn btn-sm btn-default" href="#dependencies" ng-click="vitalsCheck()? scrollTo('dependencies', 'vitals', 'details', $event, 'dependencyFormName'): ''"><i class="fa fa-edit"></i>&nbsp;<small><span ng-show="component.externalDependencies.length">Edit</span><span ng-show="!(component.externalDependencies.length)">Add</span> Dependencies</small></a>
      </div>
      <div class="left" ng-show="component.externalDependencies.length"><strong>Dependencies:&nbsp;</strong>
        <table class="table table-striped table-bordered" style="table-layout:fixed">
          <tr>
            <th>Dependency</th>
            <th>Version</th>           
            <th>Link</th>
            <th>Comment</th>
            <!-- <th>Security Type</th> -->
          </tr>
          <tr ng-repeat="dependency in component.externalDependencies">
            <td>{{dependency.dependencyName}}</td>
            <td>{{dependency.version}}</td>
            <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" >{{dependency.dependancyReferenceLink}}</td>
            <td>{{dependency.comment}}</td>           
            <!-- <td>{{getSecurityDesc(dependency.securityMarkingType)}}</td> -->
          </tr>
        </table>
      </div>
      <div style="clear:both;"></div>
<!--       <div class="pageBreak" ><h4>Questions</h4>
        <hr style="border-top: 1px solid #555; margin-top: 0px;">
        <div ng-repeat="question in component.questions">
          <strong>Q:</strong>{{question.question}} <span style="font-size: 11px;">&nbsp;&mdash;&nbsp;{{question.username}}&nbsp;({{question.organization}} - {{question.userType}})&nbsp;{{getDate(question.updateDts)}}</span>
          <div ng-repeat="response in question.responses" style="margin-left: 20px;">
            <strong>A:</strong>{{response.response}} <span style="font-size: 11px;">&nbsp;&mdash;&nbsp;{{response.username}}&nbsp;({{response.organization}} - {{response.userType}})&nbsp;{{getDate(response.updateDts)}}</span>
          </div>
        </div>
      </div> -->
      
      <hr>

      <div class="col-sm-12" style="padding-left:0px; padding-right:0px;">
        <a target="_self" class="btn btn-sm btn-default" href="#resources" ng-click="vitalsCheck()? scrollTo('resources', 'vitals', 'details', $event, 'resourceFormType'): ''"><i class="fa fa-edit"></i>&nbsp;<small>Edit Resources</small></a>
      </div>
      <div class="pageBreak" >
        <h4>Resources</h4>
        <hr style="border-top: 1px solid #555; margin-top: 0px;">
        <div >
          <table class="table table-stripped table-bordered" ng-show="resourceQueue.length || component.resources.length">
            <tr>
              <th>Description</th>
              <th>Caption</th>
              <th>Mime Type</th>
              <!-- <th>Security Type</th> -->
              <th>Preview/Link</th>
            </tr>
            <tr ng-repeat="item in resourceQueue">
              <td>{{getResourceTypeDesc(item.file.resourceType)}}</td>
              <td>{{item.file.description}}</td>
              <td>{{item.file.mimeType}}</td>
              <!-- <td>{{getSecurityDesc(item.file.securityMarkingType)}}</td> -->
              <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">
                <button type="button" class="btn btn-sm btn-default" dynamic-popover container="body" title="" content="item.dom" placement="top" trigger="click">
                  <i ng-class="getMimeTypeClass(item.file.mimeType)" class="fa fa-lg"></i>
                </button>
              </td>
            </tr>
            <tr ng-repeat="item in component.resources">
              <td>{{getResourceTypeDesc(item.resourceType)}}</td>
              <td>{{item.description}}</td>
              <td>{{item.mimeType}}</td>
              <!-- <td>{{getSecurityDesc(item.securityMarkingType)}}</td> -->
              <td ng-if="!item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="item.link"></td>
              <!-- <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" ></td> -->
              <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="getResourceHTML(item)"></td>
            </tr>
          </table>
        </div>
      </div>
      <div style="clear:both;"></div>
      
      <hr>

      <div class="col-sm-12" style="padding-left:0px; padding-right:0px;">
        <a target="_self" class="btn btn-sm btn-default" href="#media" ng-click="vitalsCheck()? scrollTo('media', 'vitals', 'details', $event, 'mediaFormType'): ''"><i class="fa fa-edit"></i>&nbsp;<small>Edit Media</small></a>
      </div>
      <div class="pageBreak" >
        <h4>Media</h4>
        <hr style="border-top: 1px solid #555; margin-top: 0px;">
        <div >
          <div>
            <table class="table table-stripped table-bordered" ng-show="queue.length || component.media.length">
              <tr>
                <th>Description</th>
                <th>Caption</th>
                <th>Mime Type</th>
                <!-- <th>Security Type</th> -->
                <th>Preview/Link</th>
              </tr>
              <tr ng-repeat="item in queue">
                <td>{{getMediaTypeDesc(item.file.mediaTypeCode)}}</td>
                <td>{{item.file.caption}}</td>
                <td>{{item.file.mimeType}}</td>
                <!-- <td>{{getSecurityDesc(item.file.securityMarkingType)}}</td> -->
                <td style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;">
                  <button type="button" class="btn btn-sm btn-default" dynamic-popover container="body" title="" content="item.dom" placement="top" trigger="click">
                    <i ng-class="getMimeTypeClass(item.file.mimeType)" class="fa fa-lg"></i>
                  </button>
                </td>
              </tr>
              <tr ng-repeat="item in component.media">
                <td>{{getMediaTypeDesc(item.mediaTypeCode)}}</td>
                <td>{{item.caption}}</td>
                <td>{{item.mimeType}}</td>
                <!-- <td>{{getSecurityDesc(item.securityMarkingType)}}</td> -->
                <td ng-if="!item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="item.link"></td>
                <!-- <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;"></td> -->
                <td ng-if="item.fileName" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; max-width:300px;" dynamichtml="getMediaHTML(item)"></td>
              </tr>
            </table>
          </div>
        </div>
      </div>
      <div style="clear:both;"></div>
      <div ng-show="notDif" class="input-group" style="margin: 0px; padding: 0px;">
        <span class="input-group-addon"><i class="fa fa-check" style="color:#70B946"></i></span>
        <span class="form-control">All progress has been saved for this component. Click submit below to submit this component for approval.</span>
      </div>
      <div ng-show="!notDif" class="input-group" style="margin: 0px; padding: 0px;">
        <span class="input-group-addon"><i class="fa fa-warning" style="color:#ff811a"></i></span>
        <span class=" btn btn-default form-control" ng-click="updateSave($event)" style="text-align:left">Something has changed. Click here to 'Save Progress' up to this point before submitting.</span>
      </div>
      <div style="clear:both;"></div>
      <br>
      <div class="col-sm-12" style="text-align: center; margin-bottom: 20px;">
        <button ng-show="(component.component.approvalState && component.component.approvalState !== 'N')" style="display:inline-block" class="btn btn-primary btn-lg" ng-click="setEditable($event)">Edit Component</button>
        <a style="display:inline-block" class="btn btn-primary btn-lg" ng-show="component.component.componentId" href="single?id={{component.component.componentId}}" target="_blank">Preview Component</a>
        <button ng-show="!(component.component.approvalState && component.component.approvalState !== 'N')" style="display:inline-block" class="btn btn-primary btn-lg" ng-click="finalSave($event)">Submit Component</button>
      </div>



    </div>
    <!-- REVIEW AND SUBMIT SECTION -->
  </div>
</div>
</div>
</div>